# 抽象工厂模式

## 介绍

- 分类：创建型模式
- 目的：提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。又称其他工厂定的工厂
- 关键：在一个工厂里聚合多个同类产品
- 场景：1. 程序需要处理不同系列的相关产品，但是您不希望它依赖于这些产品的具体类时
- 优点：1. 可以确信你从工厂得到的产品彼此是兼容的；2. 符合单一职责原则；3. 符合开闭原则
- 缺点：1. 扩展性不好; 2. 抽象工厂类中加入了其他工厂类的方法

## 源码应用

java.sql.Connection 
java.sql.Driver

## Demo实现

### 实现方式

1. 创建一个英雄和装备接口，分别实现该接口。实现类即为具体的英雄或装备；
2. 分别定义两个接口的工厂类Factory，功能：传入英雄或装备名称，即可以返回指定英雄或装备的实例对象；
3. 创建抽象工厂类，上述两个工厂类，实现该抽象工厂类
4. 创建工厂生产者，提供抽象工厂类

### 图例

![img](https://notes-yc-01.oss-cn-shenzhen.aliyuncs.com/blog/2020/11/22/39c85311ec384d26b1b03ad3ddad262a.png)

### 步骤

1. 创建一个英雄接口 

   `Legend.java`

2. 创建接口实现类 

   `Garen.java, XinZhao.java, Teemo.java`

3. 创建一个装备接口 

   `Item.java`

4. 创建接口实现类 

   `SunFire.java, TriForce.java, ZhonYa.java`

5. 创建一个抽象工厂类，提供获取前两个接口实例的方法

   `AbstractFactory.java`

6. 创建一个英雄工厂类，继承抽象工厂类，重写获取实例方法。根据指定输入参数，生成对应的实例对象

    `LegendFactory`

7. 创建一个装备工厂类，继承抽象工厂类，重写获取实例方法。根据指定输入参数，生成对应的实例对象

    `ItemFactory`

8. 创建一个生产者类，或者抽象工厂实例

   `Producer.java`

9. 执行流程

